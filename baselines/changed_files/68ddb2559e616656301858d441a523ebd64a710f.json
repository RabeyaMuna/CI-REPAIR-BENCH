{
    "sha_fail": "68ddb2559e616656301858d441a523ebd64a710f",
    "changed_files": [
        {
            "commit": "68ddb2559e616656301858d441a523ebd64a710f",
            "file_path": "src/diffusers/loaders/single_file_utils.py",
            "diff": "diff --git a/src/diffusers/loaders/single_file_utils.py b/src/diffusers/loaders/single_file_utils.py\nindex 7d95f97b..55b438b0 100644\n--- a/src/diffusers/loaders/single_file_utils.py\n+++ b/src/diffusers/loaders/single_file_utils.py\n@@ -936,8 +936,8 @@ def create_text_encoder_from_ldm_clip_checkpoint(config_name, checkpoint, local_\n \n \n def create_text_encoder_from_open_clip_checkpoint(\n-    checkpoint,\n     config_name,\n+    checkpoint,\n     prefix=\"cond_stage_model.model.\",\n     has_projection=False,\n     local_files_only=False,\n@@ -1102,13 +1102,12 @@ def create_text_encoders_and_tokenizers_from_ldm(\n \n         try:\n             text_encoder = create_text_encoder_from_open_clip_checkpoint(\n-                checkpoint, config_name, local_files_only=local_files_only, **config_kwargs\n+                config_name, checkpoint, local_files_only=local_files_only, **config_kwargs\n             )\n             tokenizer = CLIPTokenizer.from_pretrained(\n                 config_name, subfolder=\"tokenizer\", local_files_only=local_files_only\n             )\n-        except Exception as e:\n-            raise e\n+        except Exception:\n             raise ValueError(\n                 f\"With local_files_only set to {local_files_only}, you must first locally save the text_encoder in the following path: '{config_name}'.\"\n             )\n@@ -1118,7 +1117,7 @@ def create_text_encoders_and_tokenizers_from_ldm(\n     elif model_type == \"FrozenCLIPEmbedder\":\n         try:\n             config_name = \"openai/clip-vit-large-patch14\"\n-            text_encoder = create_text_encoder_from_ldm_clip_checkpoint(checkpoint, local_files_only=local_files_only)\n+            text_encoder = create_text_encoder_from_ldm_clip_checkpoint(config_name, checkpoint, local_files_only=local_files_only)\n             tokenizer = CLIPTokenizer.from_pretrained(config_name, local_files_only=local_files_only)\n \n         except Exception:\n@@ -1136,8 +1135,8 @@ def create_text_encoders_and_tokenizers_from_ldm(\n         try:\n             tokenizer_2 = CLIPTokenizer.from_pretrained(config_name, pad_token=\"!\", local_files_only=local_files_only)\n             text_encoder_2 = create_text_encoder_from_open_clip_checkpoint(\n-                checkpoint,\n                 config_name,\n+                checkpoint,\n                 prefix=prefix,\n                 has_projection=True,\n                 local_files_only=local_files_only,\n@@ -1173,8 +1172,8 @@ def create_text_encoders_and_tokenizers_from_ldm(\n             prefix = \"conditioner.embedders.1.model.\"\n             tokenizer_2 = CLIPTokenizer.from_pretrained(config_name, pad_token=\"!\", local_files_only=local_files_only)\n             text_encoder_2 = create_text_encoder_from_open_clip_checkpoint(\n-                checkpoint,\n                 config_name,\n+                checkpoint,\n                 prefix=prefix,\n                 has_projection=True,\n                 local_files_only=local_files_only,\n"
        }
    ]
}