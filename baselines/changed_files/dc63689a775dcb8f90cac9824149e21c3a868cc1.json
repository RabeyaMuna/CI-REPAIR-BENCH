{
    "sha_fail": "dc63689a775dcb8f90cac9824149e21c3a868cc1",
    "changed_files": [
        {
            "commit": "dc63689a775dcb8f90cac9824149e21c3a868cc1",
            "file_path": "cookbook/teams/team_with_filters.py",
            "diff": "diff --git a/cookbook/teams/team_with_filters.py b/cookbook/teams/team_with_filters.py\nnew file mode 100644\nindex 000000000..e7100510e\n--- /dev/null\n+++ b/cookbook/teams/team_with_filters.py\n@@ -0,0 +1,93 @@\n+from pathlib import Path\n+\n+from agno.agent import Agent\n+from agno.embedder.openai import OpenAIEmbedder\n+from agno.knowledge.pdf import PDFKnowledgeBase\n+from agno.models.openai import OpenAIChat\n+from agno.team import Team\n+from agno.tools.duckduckgo import DuckDuckGoTools\n+from agno.utils.media import (\n+    SampleDataFileExtension,\n+    download_knowledge_filters_sample_data,\n+)\n+from agno.vectordb.lancedb import LanceDb, SearchType\n+\n+# Download all sample CVs and get their paths\n+downloaded_cv_paths = download_knowledge_filters_sample_data(\n+    num_files=5, file_extension=SampleDataFileExtension.PDF)\n+\n+# Initialize LanceDB\n+# By default, it stores data in /tmp/lancedb\n+vector_db = LanceDb(\n+    table_name=\"recipes\",\n+    uri=\"tmp/lancedb\",  # You can change this path to store data elsewhere\n+)\n+\n+knowledge_base = PDFKnowledgeBase(\n+    path=[\n+        {\n+            \"path\": downloaded_cv_paths[0],\n+            \"metadata\": {\n+                \"user_id\": \"jordan_mitchell\",\n+                \"document_type\": \"cv\",\n+                \"year\": 2025,\n+            },\n+        },\n+        {\n+            \"path\": downloaded_cv_paths[1],\n+            \"metadata\": {\n+                \"user_id\": \"taylor_brooks\",\n+                \"document_type\": \"cv\",\n+                \"year\": 2025,\n+            },\n+        },\n+        {\n+            \"path\": downloaded_cv_paths[2],\n+            \"metadata\": {\n+                \"user_id\": \"morgan_lee\",\n+                \"document_type\": \"cv\",\n+                \"year\": 2025,\n+            },\n+        },\n+        {\n+            \"path\": downloaded_cv_paths[3],\n+            \"metadata\": {\n+                \"user_id\": \"casey_jordan\",\n+                \"document_type\": \"cv\",\n+                \"year\": 2025,\n+            },\n+        },\n+        {\n+            \"path\": downloaded_cv_paths[4],\n+            \"metadata\": {\n+                \"user_id\": \"alex_rivera\",\n+                \"document_type\": \"cv\",\n+                \"year\": 2025,\n+            },\n+        },\n+    ],\n+    vector_db=vector_db,\n+)\n+\n+web_agent = Agent(\n+    name=\"Knowledge Search Agent\",\n+    role=\"Handle knowledge search\",\n+    knowledge=knowledge_base,\n+    model=OpenAIChat(id=\"gpt-4o\"),\n+    instructions=[\"Always take into account filters\"],\n+)\n+\n+team_with_knowledge = Team(\n+    name=\"Team with Knowledge\",\n+    members=[web_agent],\n+    model=OpenAIChat(id=\"gpt-4o\"),\n+    knowledge=knowledge_base,\n+    show_members_responses=True,\n+    markdown=True,\n+    knowledge_filters={\"user_id\": \"jordan_mitchell\"},\n+)\n+\n+knowledge_base.load(recreate=True)\n+\n+team_with_knowledge.print_response(\n+    \"Tell me about Jordan Mitchell's work and experience\")\n"
        }
    ]
}