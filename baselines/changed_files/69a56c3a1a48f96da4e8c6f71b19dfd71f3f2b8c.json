{
    "sha_fail": "69a56c3a1a48f96da4e8c6f71b19dfd71f3f2b8c",
    "changed_files": [
        {
            "commit": "69a56c3a1a48f96da4e8c6f71b19dfd71f3f2b8c",
            "file_path": "cookbook/agent_concepts/tool_concepts/toolkits/stop_after_tool_function.py",
            "diff": "diff --git a/cookbook/agent_concepts/tool_concepts/toolkits/stop_after_tool_function.py b/cookbook/agent_concepts/tool_concepts/toolkits/stop_after_tool_function.py\nnew file mode 100644\nindex 000000000..bc40c0f61\n--- /dev/null\n+++ b/cookbook/agent_concepts/tool_concepts/toolkits/stop_after_tool_function.py\n@@ -0,0 +1,17 @@\n+from agno.agent import Agent\n+from agno.models.openai import OpenAIChat\n+from agno.tools.googlesearch import GoogleSearchTools\n+\n+agent = Agent(\n+    model=OpenAIChat(id=\"gpt-4.5-preview\"),\n+    tools=[\n+        GoogleSearchTools(\n+            stop_after_tool_function=[\"google_search\"],\n+            show_result=True,\n+        )\n+    ],\n+    show_tool_calls=True,\n+    debug_mode=True,\n+)\n+\n+agent.print_response(\"Whats the latest about gpt 4.5?\", markdown=True)\n"
        },
        {
            "commit": "69a56c3a1a48f96da4e8c6f71b19dfd71f3f2b8c",
            "file_path": "libs/agno/agno/tools/toolkit.py",
            "diff": "diff --git a/libs/agno/agno/tools/toolkit.py b/libs/agno/agno/tools/toolkit.py\nindex b629940b3..06538f2d0 100644\n--- a/libs/agno/agno/tools/toolkit.py\n+++ b/libs/agno/agno/tools/toolkit.py\n@@ -1,5 +1,5 @@\n from collections import OrderedDict\n-from typing import Any, Callable, Dict, List, Optional\n+from typing import Any, Callable, Dict, List, Optional, Union\n \n from agno.tools.function import Function\n from agno.utils.log import log_debug, logger\n@@ -18,6 +18,8 @@ class Toolkit:\n         cache_ttl: int = 3600,\n         cache_dir: Optional[str] = None,\n         auto_register: bool = True,\n+        stop_after_tool_function: Optional[List[str]] = None,\n+        show_result: Optional[bool] = False,\n     ):\n         \"\"\"Initialize a new Toolkit.\n \n@@ -32,12 +34,16 @@ class Toolkit:\n             cache_ttl (int): Time-to-live for cached results in seconds.\n             cache_dir (Optional[str]): Directory to store cache files. Defaults to system temp dir.\n             auto_register (bool): Whether to automatically register all methods in the class.\n+            stop_after_tool_function (Optional[List[str]]): List of function names that should stop the agent after execution.\n+            show_result (Optional(bool)): If True, show results for all functions in this toolkit.\n         \"\"\"\n         self.name: str = name\n         self.tools: List[Callable] = tools\n         self.functions: Dict[str, Function] = OrderedDict()\n         self.instructions: Optional[str] = instructions\n         self.add_instructions: bool = add_instructions\n+        self.stop_after_tool_function = stop_after_tool_function or []\n+        self.show_result = show_result\n \n         self._check_tools_filters(\n             available_tools=[tool.__name__ for tool in tools], include_tools=include_tools, exclude_tools=exclude_tools\n@@ -102,6 +108,8 @@ class Toolkit:\n                 cache_results=self.cache_results,\n                 cache_dir=self.cache_dir,\n                 cache_ttl=self.cache_ttl,\n+                stop_after_tool_call=tool_name in self.stop_after_tool_function,\n+                show_result=self.show_result,\n             )\n             self.functions[f.name] = f\n             log_debug(f\"Function: {f.name} registered with {self.name}\")\n"
        }
    ]
}