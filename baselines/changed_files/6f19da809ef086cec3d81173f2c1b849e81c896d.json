{
    "sha_fail": "6f19da809ef086cec3d81173f2c1b849e81c896d",
    "changed_files": [
        {
            "commit": "6f19da809ef086cec3d81173f2c1b849e81c896d",
            "file_path": "cookbook/models/cerebras/structured_output.py",
            "diff": "diff --git a/cookbook/models/cerebras/structured_output.py b/cookbook/models/cerebras/structured_output.py\nnew file mode 100644\nindex 000000000..377297ef2\n--- /dev/null\n+++ b/cookbook/models/cerebras/structured_output.py\n@@ -0,0 +1,37 @@\n+from typing import List\n+\n+from agno.agent import Agent, RunResponse  # noqa\n+from agno.models.cerebras import Cerebras\n+from pydantic import BaseModel, Field\n+from rich.pretty import pprint  # noqa\n+\n+\n+class MovieScript(BaseModel):\n+    setting: str = Field(\n+        ..., description=\"Provide a nice setting for a blockbuster movie.\"\n+    )\n+    ending: str = Field(\n+        ...,\n+        description=\"Ending of the movie. If not available, provide a happy ending.\",\n+    )\n+    genre: str = Field(\n+        ...,\n+        description=\"Genre of the movie. If not available, select action, thriller or romantic comedy.\",\n+    )\n+    name: str = Field(..., description=\"Give a name to this movie\")\n+    characters: List[str] = Field(..., description=\"Name of characters for this movie.\")\n+    storyline: str = Field(\n+        ..., description=\"3 sentence storyline for the movie. Make it exciting!\"\n+    )\n+\n+\n+# Agent that uses a JSON schema output\n+json_schema_output_agent = Agent(\n+    model=Cerebras(id=\"llama-4-scout-17b-16e-instruct\"),\n+    description=\"You are a helpful assistant. Summarize the movie script based on the location in a JSON object.\",\n+    response_model=MovieScript,\n+    show_tool_calls=True,\n+    debug_mode=True,\n+)\n+\n+json_schema_output_agent.print_response(\"New York\")\n"
        },
        {
            "commit": "6f19da809ef086cec3d81173f2c1b849e81c896d",
            "file_path": "libs/agno/agno/models/cerebras/cerebras.py",
            "diff": "diff --git a/libs/agno/agno/models/cerebras/cerebras.py b/libs/agno/agno/models/cerebras/cerebras.py\nindex 3f4593385..0c230b5b3 100644\n--- a/libs/agno/agno/models/cerebras/cerebras.py\n+++ b/libs/agno/agno/models/cerebras/cerebras.py\n@@ -159,6 +159,16 @@ class Cerebras(Model):\n             # Cerebras requires parallel_tool_calls=False for llama-4-scout-17b-16e-instruct\n             request_params[\"parallel_tool_calls\"] = False\n \n+        # Handle response format for structured outputs\n+        if self.response_format[\"type\"] == \"json_schema\" and \"json_schema\" in self.response_format:\n+            # Ensure json_schema has strict=True as required by Cerebras API-- Reference: https://arc.net/l/quote/tkifovqh\n+            schema = self.response_format[\"json_schema\"]\n+            if isinstance(schema, dict) and \"schema\" in schema:\n+                if \"strict\" not in schema:\n+                    schema[\"strict\"] = True\n+\n+        request_params[\"response_format\"] = self.response_format\n+\n         # Add additional request params if provided\n         if self.request_params:\n             request_params.update(self.request_params)\n"
        }
    ]
}