{
    "sha_fail": "235e19d6998790dd527e8a43710990aef29359b1",
    "changed_files": [
        {
            "commit": "235e19d6998790dd527e8a43710990aef29359b1",
            "file_path": "cookbook/observability/weave_op.py",
            "diff": "diff --git a/cookbook/observability/weave_op.py b/cookbook/observability/weave_op.py\nindex ea1a5aa0d..1f53db5ef 100644\n--- a/cookbook/observability/weave_op.py\n+++ b/cookbook/observability/weave_op.py\n@@ -7,7 +7,7 @@ Steps to get started with weave:\n 3. Authentication:\n  - Go to https://wandb.ai and copy your API key from https://wandb.ai/authorize\n  - Enter your API key in terminal when prompted\n- Or \n+ Or\n  - Export your API key as an environment variable:\n     - export WANDB_API_KEY=<your-api-key>\n \"\"\"\n"
        },
        {
            "commit": "235e19d6998790dd527e8a43710990aef29359b1",
            "file_path": "libs/agno/agno/document/reader/csv_reader.py",
            "diff": "diff --git a/libs/agno/agno/document/reader/csv_reader.py b/libs/agno/agno/document/reader/csv_reader.py\nindex 5b8b987b5..61fe47142 100644\n--- a/libs/agno/agno/document/reader/csv_reader.py\n+++ b/libs/agno/agno/document/reader/csv_reader.py\n@@ -5,6 +5,7 @@ import os\n from pathlib import Path\n from typing import IO, Any, List, Optional, Union\n from urllib.parse import urlparse\n+from uuid import uuid4\n \n from agno.utils.http import async_fetch_with_retry, fetch_with_retry\n \n@@ -43,7 +44,7 @@ class CSVReader(Reader):\n             documents = [\n                 Document(\n                     name=csv_name,\n-                    id=csv_name,\n+                    id=str(uuid4()),\n                     content=csv_content,\n                 )\n             ]\n@@ -97,7 +98,7 @@ class CSVReader(Reader):\n                 documents = [\n                     Document(\n                         name=csv_name,\n-                        id=csv_name,\n+                        id=str(uuid4()),\n                         content=csv_content,\n                     )\n                 ]\n@@ -113,7 +114,7 @@ class CSVReader(Reader):\n \n                     return Document(\n                         name=csv_name,\n-                        id=f\"{csv_name}_page{page_number}\",\n+                        id=str(uuid4()),\n                         meta_data={\"page\": page_number, \"start_row\": start_row, \"rows\": len(page_rows)},\n                         content=page_content,\n                     )\n"
        },
        {
            "commit": "235e19d6998790dd527e8a43710990aef29359b1",
            "file_path": "libs/agno/agno/document/reader/docx_reader.py",
            "diff": "diff --git a/libs/agno/agno/document/reader/docx_reader.py b/libs/agno/agno/document/reader/docx_reader.py\nindex efbe28d5b..2600f889b 100644\n--- a/libs/agno/agno/document/reader/docx_reader.py\n+++ b/libs/agno/agno/document/reader/docx_reader.py\n@@ -1,6 +1,7 @@\n import asyncio\n from pathlib import Path\n from typing import IO, Any, List, Union\n+from uuid import uuid4\n \n from agno.document.base import Document\n from agno.document.reader.base import Reader\n@@ -34,7 +35,7 @@ class DocxReader(Reader):\n             documents = [\n                 Document(\n                     name=doc_name,\n-                    id=doc_name,\n+                    id=str(uuid4()),\n                     content=doc_content,\n                 )\n             ]\n"
        },
        {
            "commit": "235e19d6998790dd527e8a43710990aef29359b1",
            "file_path": "libs/agno/agno/document/reader/json_reader.py",
            "diff": "diff --git a/libs/agno/agno/document/reader/json_reader.py b/libs/agno/agno/document/reader/json_reader.py\nindex c3b4b8dce..513331dae 100644\n--- a/libs/agno/agno/document/reader/json_reader.py\n+++ b/libs/agno/agno/document/reader/json_reader.py\n@@ -3,6 +3,7 @@ import json\n from io import BytesIO\n from pathlib import Path\n from typing import IO, Any, List, Union\n+from uuid import uuid4\n \n from agno.document.base import Document\n from agno.document.reader.base import Reader\n@@ -38,7 +39,7 @@ class JSONReader(Reader):\n             documents = [\n                 Document(\n                     name=json_name,\n-                    id=f\"{json_name}_{page_number}\",\n+                    id=str(uuid4()),\n                     meta_data={\"page\": page_number},\n                     content=json.dumps(content),\n                 )\n"
        },
        {
            "commit": "235e19d6998790dd527e8a43710990aef29359b1",
            "file_path": "libs/agno/agno/document/reader/pdf_reader.py",
            "diff": "diff --git a/libs/agno/agno/document/reader/pdf_reader.py b/libs/agno/agno/document/reader/pdf_reader.py\nindex 825baca86..e341a4797 100644\n--- a/libs/agno/agno/document/reader/pdf_reader.py\n+++ b/libs/agno/agno/document/reader/pdf_reader.py\n@@ -1,6 +1,7 @@\n import asyncio\n from pathlib import Path\n from typing import IO, Any, List, Optional, Union\n+from uuid import uuid4\n \n from agno.document.base import Document\n from agno.document.reader.base import Reader\n@@ -42,7 +43,7 @@ def process_image_page(doc_name: str, page_number: int, page: Any) -> Document:\n     # Append the document\n     return Document(\n         name=doc_name,\n-        id=f\"{doc_name}_{page_number}\",\n+        id=str(uuid4()),\n         meta_data={\"page\": page_number},\n         content=content,\n     )\n@@ -76,7 +77,7 @@ async def async_process_image_page(doc_name: str, page_number: int, page: Any) -\n \n     return Document(\n         name=doc_name,\n-        id=f\"{doc_name}_{page_number}\",\n+        id=str(uuid4()),\n         meta_data={\"page\": page_number},\n         content=content,\n     )\n@@ -115,7 +116,7 @@ class PDFReader(BasePDFReader):\n             documents.append(\n                 Document(\n                     name=doc_name,\n-                    id=f\"{doc_name}_{page_number}\",\n+                    id=str(uuid4()),\n                     meta_data={\"page\": page_number},\n                     content=page.extract_text(),\n                 )\n@@ -144,7 +145,7 @@ class PDFReader(BasePDFReader):\n         async def _process_document(doc_name: str, page_number: int, page: Any) -> Document:\n             return Document(\n                 name=doc_name,\n-                id=f\"{doc_name}_{page_number}\",\n+                id=str(uuid4()),\n                 meta_data={\"page\": page_number},\n                 content=page.extract_text(),\n             )\n"
        },
        {
            "commit": "235e19d6998790dd527e8a43710990aef29359b1",
            "file_path": "libs/agno/agno/document/reader/s3/pdf_reader.py",
            "diff": "diff --git a/libs/agno/agno/document/reader/s3/pdf_reader.py b/libs/agno/agno/document/reader/s3/pdf_reader.py\nindex 216c66c57..f897c5130 100644\n--- a/libs/agno/agno/document/reader/s3/pdf_reader.py\n+++ b/libs/agno/agno/document/reader/s3/pdf_reader.py\n@@ -1,5 +1,6 @@\n from io import BytesIO\n from typing import List\n+from uuid import uuid4\n \n from agno.document.base import Document\n from agno.document.reader.base import Reader\n@@ -30,7 +31,7 @@ class S3PDFReader(Reader):\n             documents = [\n                 Document(\n                     name=doc_name,\n-                    id=f\"{doc_name}_{page_number}\",\n+                    id=str(uuid4()),\n                     meta_data={\"page\": page_number},\n                     content=page.extract_text(),\n                 )\n"
        },
        {
            "commit": "235e19d6998790dd527e8a43710990aef29359b1",
            "file_path": "libs/agno/agno/document/reader/text_reader.py",
            "diff": "diff --git a/libs/agno/agno/document/reader/text_reader.py b/libs/agno/agno/document/reader/text_reader.py\nindex eeb5b17f7..e5e75f05d 100644\n--- a/libs/agno/agno/document/reader/text_reader.py\n+++ b/libs/agno/agno/document/reader/text_reader.py\n@@ -1,4 +1,5 @@\n import asyncio\n+import uuid\n from pathlib import Path\n from typing import IO, Any, List, Union\n \n@@ -27,7 +28,7 @@ class TextReader(Reader):\n             documents = [\n                 Document(\n                     name=file_name,\n-                    id=file_name,\n+                    id=str({uuid.uuid4()}),\n                     content=file_contents,\n                 )\n             ]\n@@ -66,7 +67,7 @@ class TextReader(Reader):\n \n             document = Document(\n                 name=file_name,\n-                id=file_name,\n+                id=str({uuid.uuid4()}),\n                 content=file_contents,\n             )\n \n"
        },
        {
            "commit": "235e19d6998790dd527e8a43710990aef29359b1",
            "file_path": "libs/agno/tests/unit/reader/test_csv_reader.py",
            "diff": "diff --git a/libs/agno/tests/unit/reader/test_csv_reader.py b/libs/agno/tests/unit/reader/test_csv_reader.py\nindex 9e6daab3c..adef830ff 100644\n--- a/libs/agno/tests/unit/reader/test_csv_reader.py\n+++ b/libs/agno/tests/unit/reader/test_csv_reader.py\n@@ -52,7 +52,7 @@ def test_read_path(csv_reader, csv_file):\n \n     assert len(documents) == 1\n     assert documents[0].name == \"test\"\n-    assert documents[0].id == \"test_1\"\n+    assert documents[0].id.endswith(\"_1\")\n \n     expected_content = \"name, age, city John, 30, New York Jane, 25, San Francisco Bob, 40, Chicago \"\n     assert documents[0].content == expected_content\n@@ -66,7 +66,7 @@ def test_read_file_object(csv_reader):\n \n     assert len(documents) == 1\n     assert documents[0].name == \"memory\"\n-    assert documents[0].id == \"memory_1\"\n+    assert documents[0].id.endswith(\"_1\")\n \n     expected_content = \"name, age, city John, 30, New York Jane, 25, San Francisco Bob, 40, Chicago \"\n     assert documents[0].content == expected_content\n@@ -76,7 +76,7 @@ def test_read_complex_csv(csv_reader, complex_csv_file):\n     documents = csv_reader.read(complex_csv_file, delimiter=\",\", quotechar='\"')\n \n     assert len(documents) == 1\n-    assert documents[0].id == \"complex_1\"\n+    assert documents[0].id.endswith(\"_1\")\n \n     expected_content = \"product, description with, comma, price Laptop, Pro, High performance, ultra-thin, 1200.99 Phone XL, 5G compatible, water resistant, 899.50 \"\n     assert documents[0].content == expected_content\n@@ -102,9 +102,9 @@ def test_read_with_chunking(csv_reader, csv_file):\n \n     assert len(documents) == 2\n     assert documents[0].name == \"test_chunk1\"\n-    assert documents[0].id == \"test_chunk1\"\n+    assert documents[0].id.endswith(\"_chunk1\")\n     assert documents[1].name == \"test_chunk2\"\n-    assert documents[1].id == \"test_chunk2\"\n+    assert documents[1].id.endswith(\"_chunk2\")\n     assert documents[0].content == \"Chunk 1 content\"\n     assert documents[1].content == \"Chunk 2 content\"\n \n@@ -115,7 +115,7 @@ async def test_async_read_path(csv_reader, csv_file):\n \n     assert len(documents) == 1\n     assert documents[0].name == \"test\"\n-    assert documents[0].id == \"test_1\"\n+    assert documents[0].id.endswith(\"_1\")\n     assert documents[0].content == \"name, age, city John, 30, New York Jane, 25, San Francisco Bob, 40, Chicago\"\n \n \n@@ -179,9 +179,9 @@ async def test_async_read_with_chunking(csv_reader, csv_file):\n     documents = await csv_reader.async_read(csv_file)\n \n     assert len(documents) == 2\n-    assert documents[0].id == \"test_chunk1\"\n+    assert documents[0].id.endswith(\"_chunk1\")\n     assert documents[0].name == \"test_chunk1\"\n-    assert documents[1].id == \"test_chunk2\"\n+    assert documents[1].id.endswith(\"_chunk2\")\n     assert documents[1].name == \"test_chunk2\"\n \n \n@@ -204,7 +204,7 @@ def test_read_url(csv_url_reader):\n \n     assert len(documents) == 2\n     assert documents[0].name == \"employees\"\n-    assert documents[0].id == \"employees_1\"\n+    assert documents[0].id.endswith(\"_1\")\n \n     content = documents[0].content\n     assert all(field in content for field in [\"EmployeeID\", \"FirstName\", \"LastName\", \"Department\"])\n@@ -217,8 +217,7 @@ async def test_async_read_url(csv_url_reader):\n \n     assert len(documents) == 2\n     assert documents[0].name == \"employees\"\n-    assert documents[0].id == \"employees_page1_1\"\n-    assert documents[1].id == \"employees_page1_2\"\n+    assert documents[0].id.endswith(\"_1\")\n \n     expected_first_row = \"EmployeeID, FirstName, LastName, Department, Role, Age, Salary, StartDate\"\n     expected_second_row = \"101, John, Doe, Engineering, Software Engineer, 28, 75000, 2018-06-15\"\n"
        },
        {
            "commit": "235e19d6998790dd527e8a43710990aef29359b1",
            "file_path": "libs/agno/tests/unit/reader/test_docx_reader.py",
            "diff": "diff --git a/libs/agno/tests/unit/reader/test_docx_reader.py b/libs/agno/tests/unit/reader/test_docx_reader.py\nindex e4ecc99b8..4a65b3e76 100644\n--- a/libs/agno/tests/unit/reader/test_docx_reader.py\n+++ b/libs/agno/tests/unit/reader/test_docx_reader.py\n@@ -32,7 +32,7 @@ def test_docx_reader_read_file(mock_docx):\n \n         assert len(documents) == 1\n         assert documents[0].name == \"test\"\n-        assert documents[0].id == \"test_1\"\n+        assert documents[0].id.endswith(\"_1\")\n         assert documents[0].content == \"First paragraph Second paragraph\"\n \n \n@@ -47,7 +47,7 @@ async def test_docx_reader_async_read_file(mock_docx):\n \n         assert len(documents) == 1\n         assert documents[0].name == \"test\"\n-        assert documents[0].id == \"test_1\"\n+        assert documents[0].id.endswith(\"_1\")\n         assert documents[0].content == \"First paragraph Second paragraph\"\n \n \n@@ -89,7 +89,7 @@ def test_docx_reader_bytesio(mock_docx):\n \n         assert len(documents) == 1\n         assert documents[0].name == \"test\"\n-        assert documents[0].id == \"test_1\"\n+        assert documents[0].id.endswith(\"_1\")\n         assert documents[0].content == \"First paragraph Second paragraph\"\n \n \n@@ -124,7 +124,7 @@ async def test_async_docx_processing(mock_docx):\n         assert len(results) == 3\n         assert all(len(docs) == 1 for docs in results)\n         assert all(docs[0].name == \"test\" for docs in results)\n-        assert all(docs[0].id == \"test_1\" for docs in results)\n+        assert all(docs[0].id.endswith(\"_1\") for docs in results)\n         assert all(docs[0].content == \"First paragraph Second paragraph\" for docs in results)\n \n \n@@ -168,4 +168,4 @@ def test_docx_reader_metadata(mock_docx):\n \n         assert len(documents) == 1\n         assert documents[0].name == \"test_doc\"\n-        assert documents[0].id == \"test_doc_1\"\n+        assert documents[0].id.endswith(\"_1\")\n"
        },
        {
            "commit": "235e19d6998790dd527e8a43710990aef29359b1",
            "file_path": "libs/agno/tests/unit/reader/test_json_reader.py",
            "diff": "diff --git a/libs/agno/tests/unit/reader/test_json_reader.py b/libs/agno/tests/unit/reader/test_json_reader.py\nindex e77f337ef..6b3e74278 100644\n--- a/libs/agno/tests/unit/reader/test_json_reader.py\n+++ b/libs/agno/tests/unit/reader/test_json_reader.py\n@@ -68,7 +68,7 @@ def test_chunking():\n \n     assert len(documents) == 2\n     assert all(doc.name.startswith(\"test_chunk_\") for doc in documents)\n-    assert all(doc.id.startswith(\"test_1_chunk_\") for doc in documents)\n+    assert all(doc.id.endswith(\"_chunk_0\") or doc.id.endswith(\"_chunk_1\") for doc in documents)\n     assert all(\"chunk\" in doc.meta_data for doc in documents)\n \n \n@@ -151,7 +151,6 @@ def test_large_json():\n \n     assert len(documents) == 1000\n     assert all(doc.name == \"large\" for doc in documents)\n-    assert all(doc.id.startswith(\"large_\") for doc in documents)\n \n \n @pytest.mark.asyncio\n@@ -214,7 +213,7 @@ async def test_async_chunking():\n \n     assert len(documents) == 2\n     assert all(doc.name.startswith(\"test_chunk_\") for doc in documents)\n-    assert all(doc.id.startswith(\"test_1_chunk_\") for doc in documents)\n+    assert all(doc.id.endswith(\"_chunk_0\") or doc.id.endswith(\"_chunk_1\") for doc in documents)\n     assert all(\"chunk\" in doc.meta_data for doc in documents)\n \n \n@@ -266,4 +265,3 @@ async def test_async_large_json():\n \n     assert len(documents) == 1000\n     assert all(doc.name == \"large\" for doc in documents)\n-    assert all(doc.id.startswith(\"large_\") for doc in documents)\n"
        },
        {
            "commit": "235e19d6998790dd527e8a43710990aef29359b1",
            "file_path": "libs/agno/tests/unit/reader/test_pdf_reader.py",
            "diff": "diff --git a/libs/agno/tests/unit/reader/test_pdf_reader.py b/libs/agno/tests/unit/reader/test_pdf_reader.py\nindex 107fb2cc9..627b75e92 100644\n--- a/libs/agno/tests/unit/reader/test_pdf_reader.py\n+++ b/libs/agno/tests/unit/reader/test_pdf_reader.py\n@@ -43,7 +43,7 @@ def test_pdf_reader_read_file(sample_pdf_path):\n     documents = reader.read(sample_pdf_path)\n \n     assert len(documents) > 0\n-    assert all(doc.name == \"ThaiRecipes\" for doc in documents)\n+    assert all(\"ThaiRecipes\" in doc.name for doc in documents)\n     assert all(doc.content for doc in documents)\n     assert all(isinstance(doc.meta_data.get(\"page\"), int) for doc in documents)\n \n@@ -54,7 +54,7 @@ async def test_pdf_reader_async_read_file(sample_pdf_path):\n     documents = await reader.async_read(sample_pdf_path)\n \n     assert len(documents) > 0\n-    assert all(doc.name == \"ThaiRecipes\" for doc in documents)\n+    assert all(\"ThaiRecipes\" in doc.name for doc in documents)\n     assert all(doc.content for doc in documents)\n     assert all(isinstance(doc.meta_data.get(\"page\"), int) for doc in documents)\n \n@@ -145,7 +145,7 @@ async def test_async_pdf_processing(sample_pdf_path):\n \n     assert len(results) == 3\n     assert all(len(docs) > 0 for docs in results)\n-    assert all(all(doc.name == \"ThaiRecipes\" for doc in docs) for docs in results)\n+    assert all(all(\"ThaiRecipes\" in doc.name for doc in docs) for docs in results)\n \n \n def test_pdf_reader_empty_pdf():\n"
        },
        {
            "commit": "235e19d6998790dd527e8a43710990aef29359b1",
            "file_path": "libs/agno/tests/unit/reader/test_text_reader.py",
            "diff": "diff --git a/libs/agno/tests/unit/reader/test_text_reader.py b/libs/agno/tests/unit/reader/test_text_reader.py\nindex b8fed3c8b..8c0cc3613 100644\n--- a/libs/agno/tests/unit/reader/test_text_reader.py\n+++ b/libs/agno/tests/unit/reader/test_text_reader.py\n@@ -57,7 +57,7 @@ def test_chunking():\n \n     assert len(documents) == 2\n     assert all(doc.name.startswith(\"test_chunk_\") for doc in documents)\n-    assert all(doc.id.startswith(\"test_chunk_\") for doc in documents)\n+    assert all(doc.id.endswith(\"_chunk_0\") or doc.id.endswith(\"_chunk_1\") for doc in documents)\n     assert all(\"chunk\" in doc.meta_data for doc in documents)\n \n \n@@ -193,7 +193,11 @@ async def test_async_chunking():\n \n     assert len(documents) == 2\n     assert all(doc.name.startswith(\"test_chunk_\") for doc in documents)\n-    assert all(doc.id.startswith(\"test_chunk_\") for doc in documents)\n+    assert all(\n+        doc.id.endswith(\"_chunk_0\") or doc.id.endswith(\"_chunk_1\")\n+        # Check if the id ends with \"_chunk_0\" or \"_chunk_1\"\n+        for doc in documents\n+    )\n     assert all(\"chunk\" in doc.meta_data for doc in documents)\n \n \n@@ -327,7 +331,7 @@ async def test_async_parallel_chunking():\n         documents = await reader.async_read(text_bytes)\n         assert len(documents) == 2  # Should return 2 chunks\n         assert all(doc.name.startswith(\"test_chunk_\") for doc in documents)\n-        assert all(doc.id.startswith(\"test_chunk_\") for doc in documents)\n+        assert all(doc.id.endswith(\"_chunk_0\") or doc.id.endswith(\"_chunk_1\") for doc in documents)\n         assert all(\"chunk\" in doc.meta_data for doc in documents)\n     finally:\n         # Restore original processor\n"
        }
    ]
}