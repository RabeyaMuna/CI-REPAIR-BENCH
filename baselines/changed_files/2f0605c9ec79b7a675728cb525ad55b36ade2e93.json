{
    "sha_fail": "2f0605c9ec79b7a675728cb525ad55b36ade2e93",
    "changed_files": [
        {
            "commit": "2f0605c9ec79b7a675728cb525ad55b36ade2e93",
            "file_path": "import_export/resources.py",
            "diff": "diff --git a/import_export/resources.py b/import_export/resources.py\nindex f264bf9..7d7ad47 100644\n--- a/import_export/resources.py\n+++ b/import_export/resources.py\n@@ -1355,14 +1355,14 @@ class ModelDeclarativeMetaclass(DeclarativeMetaclass):\n                     continue\n                 if opts.exclude and f.name in opts.exclude:\n                     continue\n-                \n+\n                 if f.name in declared_fields:\n                     # If model field is declared in `ModelResource`, remove it from `declared_fields`\n                     # to keep exact order of model fields\n                     field = declared_fields.pop(f.name)\n                 else:\n                     field = new_class.field_from_django_field(f.name, f, readonly=False)\n-                \n+\n                 field_list.append(\n                     (\n                         f.name,\n@@ -1371,10 +1371,7 @@ class ModelDeclarativeMetaclass(DeclarativeMetaclass):\n                 )\n \n             # Order as model fields first then declared fields by default\n-            new_class.fields = OrderedDict([\n-                *field_list,\n-                *new_class.fields.items()\n-            ])\n+            new_class.fields = OrderedDict([*field_list, *new_class.fields.items()])\n \n             # add fields that follow relationships\n             if opts.fields is not None:\n"
        },
        {
            "commit": "2f0605c9ec79b7a675728cb525ad55b36ade2e93",
            "file_path": "tests/core/tests/test_resources/test_import_export.py",
            "diff": "diff --git a/tests/core/tests/test_resources/test_import_export.py b/tests/core/tests/test_resources/test_import_export.py\nindex 0007b54..e0b22ad 100644\n--- a/tests/core/tests/test_resources/test_import_export.py\n+++ b/tests/core/tests/test_resources/test_import_export.py\n@@ -1,8 +1,8 @@\n-from unittest.mock import patch\n from datetime import date\n+from unittest.mock import patch\n \n import tablib\n-from core.models import Book, Author, Category\n+from core.models import Author, Book, Category\n from core.tests.resources import BookResource\n from core.tests.utils import ignore_widget_deprecation_warning\n from django.test import TestCase\n@@ -83,7 +83,6 @@ class ImportExportFieldOrderTest(TestCase):\n             model = Book\n \n     class DeclaredModelFieldBookResource(BaseBookResource):\n-            \n         # Non-model field, should come after model fields by default\n         author_full_name = fields.Field(\n             attribute=\"author\",\n@@ -94,20 +93,14 @@ class ImportExportFieldOrderTest(TestCase):\n         categories = fields.Field(\n             attribute=\"categories\",\n             column_name=\"categories\",\n-            widget=widgets.ManyToManyWidget(\n-                model=Category,\n-                field=\"name\"\n-            )\n+            widget=widgets.ManyToManyWidget(model=Category, field=\"name\"),\n         )\n         published = fields.Field(\n             attribute=\"published\",\n             column_name=\"published\",\n-            widget=widgets.DateWidget(\"%d.%m.%Y\")\n-        )\n-        author = fields.Field(\n-            attribute=\"author__name\",\n-            column_name=\"author\"\n+            widget=widgets.DateWidget(\"%d.%m.%Y\"),\n         )\n+        author = fields.Field(attribute=\"author__name\", column_name=\"author\")\n \n         class Meta:\n             model = Book\n@@ -115,7 +108,7 @@ class ImportExportFieldOrderTest(TestCase):\n         def dehydrate_author_full_name(self, obj):\n             if obj.author:\n                 return f\"{obj.author.name} Bar\"\n-            \n+\n             return \"\"\n \n     def setUp(self):\n@@ -200,41 +193,39 @@ class ImportExportFieldOrderTest(TestCase):\n \n         categories = [\n             Category.objects.create(name=\"sci-fi\"),\n-            Category.objects.create(name=\"romance\")\n+            Category.objects.create(name=\"romance\"),\n         ]\n         author = Author.objects.create(name=\"Foo\")\n         book = Book.objects.create(\n-            name=\"The Lord Of The Rings\",\n-            author=author,\n-            published=date(2022, 2, 2)\n+            name=\"The Lord Of The Rings\", author=author, published=date(2022, 2, 2)\n         )\n         book.categories.set(categories)\n \n         self.resource = ImportExportFieldOrderTest.DeclaredModelFieldBookResource()\n         declared_field_names = (\n             \"published\",\n-            \"author\", # FK\n-            \"categories\", # M2M\n+            \"author\",  # FK\n+            \"categories\",  # M2M\n         )\n-        export_order  = self.resource.get_export_order()\n-        model_fields_names = [field.name for field in self.resource._meta.model._meta.get_fields()]\n+        export_order = self.resource.get_export_order()\n+        model_fields_names = [\n+            field.name for field in self.resource._meta.model._meta.get_fields()\n+        ]\n \n         for declared_field_name in declared_field_names:\n             self.assertEqual(\n                 model_fields_names.index(declared_field_name),\n-                export_order.index(declared_field_name)\n+                export_order.index(declared_field_name),\n             )\n \n         # Validate non-model field is exported last unless specified\n-        self.assertEqual(\n-            export_order[-1],\n-            \"author_full_name\"\n-        )\n+        self.assertEqual(export_order[-1], \"author_full_name\")\n \n     @ignore_widget_deprecation_warning\n     def test_meta_fields_not_alter_export_order(self):\n-        class DeclaredModelFieldBookResource(ImportExportFieldOrderTest.BaseBookResource):\n-            \n+        class DeclaredModelFieldBookResource(\n+            ImportExportFieldOrderTest.BaseBookResource\n+        ):\n             # Non-model field, should come after model fields by default\n             author_full_name = fields.Field(\n                 attribute=\"author\",\n@@ -245,36 +236,34 @@ class ImportExportFieldOrderTest(TestCase):\n             categories = fields.Field(\n                 attribute=\"categories\",\n                 column_name=\"categories\",\n-                widget=widgets.ManyToManyWidget(\n-                    model=Category,\n-                    field=\"name\"\n-                )\n+                widget=widgets.ManyToManyWidget(model=Category, field=\"name\"),\n             )\n             published = fields.Field(\n                 attribute=\"published\",\n                 column_name=\"published\",\n-                widget=widgets.DateWidget(\"%d.%m.%Y\")\n-            )\n-            author = fields.Field(\n-                attribute=\"author__name\",\n-                column_name=\"author\"\n+                widget=widgets.DateWidget(\"%d.%m.%Y\"),\n             )\n+            author = fields.Field(attribute=\"author__name\", column_name=\"author\")\n \n             class Meta:\n                 model = Book\n-                fields = (\"id\", \"author__name\", \"author\", \"author_full_name\", \"categories\", \"published\")\n+                fields = (\n+                    \"id\",\n+                    \"author__name\",\n+                    \"author\",\n+                    \"author_full_name\",\n+                    \"categories\",\n+                    \"published\",\n+                )\n \n             def dehydrate_author_full_name(self, obj):\n                 if obj.author:\n                     return f\"{obj.author.name} Bar\"\n-                \n+\n                 return \"\"\n-        \n+\n         self.resource = DeclaredModelFieldBookResource()\n-        self.assertEqual(\n-            self.resource.get_export_order(),\n-            self.resource._meta.fields\n-        )\n+        self.assertEqual(self.resource.get_export_order(), self.resource._meta.fields)\n \n \n class ImportIdFieldsTestCase(TestCase):\n"
        }
    ]
}