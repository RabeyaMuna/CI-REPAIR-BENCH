{
    "sha_fail": "a02c53a0eed80e7332e03b39bac351260afde289",
    "changed_files": [
        {
            "commit": "a02c53a0eed80e7332e03b39bac351260afde289",
            "file_path": "framework/proto/flwr/proto/appio.proto",
            "diff": "diff --git a/framework/proto/flwr/proto/appio.proto b/framework/proto/flwr/proto/appio.proto\nindex 857bbc047..18c5f783a 100644\n--- a/framework/proto/flwr/proto/appio.proto\n+++ b/framework/proto/flwr/proto/appio.proto\n@@ -32,7 +32,7 @@ message PushAppMessagesRequest {\n }\n message PushAppMessagesResponse {\n   repeated string message_ids = 1;\n-  map<string, ObjectIDs> objects_to_push = 2;\n+  repeated string objects_to_push = 2;\n }\n \n // PullAppMessages messages\n"
        },
        {
            "commit": "a02c53a0eed80e7332e03b39bac351260afde289",
            "file_path": "framework/proto/flwr/proto/fleet.proto",
            "diff": "diff --git a/framework/proto/flwr/proto/fleet.proto b/framework/proto/flwr/proto/fleet.proto\nindex 30ce0f050..80f783aeb 100644\n--- a/framework/proto/flwr/proto/fleet.proto\n+++ b/framework/proto/flwr/proto/fleet.proto\n@@ -83,7 +83,7 @@ message PushMessagesRequest {\n message PushMessagesResponse {\n   Reconnect reconnect = 1;\n   map<string, uint32> results = 2;\n-  map<string, ObjectIDs> objects_to_push = 3;\n+  repeated string objects_to_push = 3;\n }\n \n message Reconnect { uint64 reconnect = 1; }\n"
        },
        {
            "commit": "a02c53a0eed80e7332e03b39bac351260afde289",
            "file_path": "framework/py/flwr/client/grpc_rere_client/connection.py",
            "diff": "diff --git a/framework/py/flwr/client/grpc_rere_client/connection.py b/framework/py/flwr/client/grpc_rere_client/connection.py\nindex 386c8e251..00a8b5701 100644\n--- a/framework/py/flwr/client/grpc_rere_client/connection.py\n+++ b/framework/py/flwr/client/grpc_rere_client/connection.py\n@@ -285,8 +285,7 @@ def grpc_request_response(  # pylint: disable=R0913,R0914,R0915,R0917\n         response: PushMessagesResponse = stub.PushMessages(request=request)\n \n         # Get and return the object IDs to push\n-        object_ids_to_push = response.objects_to_push[object_tree.object_id]\n-        return set(object_ids_to_push.object_ids)\n+        return set(response.objects_to_push)\n \n     def get_run(run_id: int) -> Run:\n         # Call FleetAPI\n"
        },
        {
            "commit": "a02c53a0eed80e7332e03b39bac351260afde289",
            "file_path": "framework/py/flwr/client/rest_client/connection.py",
            "diff": "diff --git a/framework/py/flwr/client/rest_client/connection.py b/framework/py/flwr/client/rest_client/connection.py\nindex dbc622323..66642949f 100644\n--- a/framework/py/flwr/client/rest_client/connection.py\n+++ b/framework/py/flwr/client/rest_client/connection.py\n@@ -369,8 +369,7 @@ def http_request_response(  # pylint: disable=R0913,R0914,R0915,R0917\n             raise ValueError(\"PushMessagesResponse is None.\")\n \n         # Get and return the object IDs to push\n-        object_ids_to_push = res.objects_to_push[object_tree.object_id]\n-        return set(object_ids_to_push.object_ids)\n+        return set(res.objects_to_push)\n \n     def get_run(run_id: int) -> Run:\n         # Construct the request\n"
        },
        {
            "commit": "a02c53a0eed80e7332e03b39bac351260afde289",
            "file_path": "framework/py/flwr/proto/appio_pb2.py",
            "diff": "diff --git a/framework/py/flwr/proto/appio_pb2.py b/framework/py/flwr/proto/appio_pb2.py\nindex 93712be92..95aeb03d1 100644\n--- a/framework/py/flwr/proto/appio_pb2.py\n+++ b/framework/py/flwr/proto/appio_pb2.py\n@@ -17,31 +17,27 @@ from flwr.proto import fab_pb2 as flwr_dot_proto_dot_fab__pb2\n from flwr.proto import run_pb2 as flwr_dot_proto_dot_run__pb2\n \n \n-DESCRIPTOR = _descriptor_pool.Default().AddSerializedFile(b'\\n\\x16\\x66lwr/proto/appio.proto\\x12\\nflwr.proto\\x1a\\x18\\x66lwr/proto/message.proto\\x1a\\x14\\x66lwr/proto/fab.proto\\x1a\\x14\\x66lwr/proto/run.proto\\\"\\x99\\x01\\n\\x16PushAppMessagesRequest\\x12\\r\\n\\x05token\\x18\\x01 \\x01(\\t\\x12*\\n\\rmessages_list\\x18\\x02 \\x03(\\x0b\\x32\\x13.flwr.proto.Message\\x12\\x0e\\n\\x06run_id\\x18\\x03 \\x01(\\x04\\x12\\x34\\n\\x14message_object_trees\\x18\\x04 \\x03(\\x0b\\x32\\x16.flwr.proto.ObjectTree\\\"\\xcc\\x01\\n\\x17PushAppMessagesResponse\\x12\\x13\\n\\x0bmessage_ids\\x18\\x01 \\x03(\\t\\x12O\\n\\x0fobjects_to_push\\x18\\x02 \\x03(\\x0b\\x32\\x36.flwr.proto.PushAppMessagesResponse.ObjectsToPushEntry\\x1aK\\n\\x12ObjectsToPushEntry\\x12\\x0b\\n\\x03key\\x18\\x01 \\x01(\\t\\x12$\\n\\x05value\\x18\\x02 \\x01(\\x0b\\x32\\x15.flwr.proto.ObjectIDs:\\x02\\x38\\x01\\\"L\\n\\x16PullAppMessagesRequest\\x12\\r\\n\\x05token\\x18\\x01 \\x01(\\t\\x12\\x13\\n\\x0bmessage_ids\\x18\\x02 \\x03(\\t\\x12\\x0e\\n\\x06run_id\\x18\\x03 \\x01(\\x04\\\"{\\n\\x17PullAppMessagesResponse\\x12*\\n\\rmessages_list\\x18\\x01 \\x03(\\x0b\\x32\\x13.flwr.proto.Message\\x12\\x34\\n\\x14message_object_trees\\x18\\x02 \\x03(\\x0b\\x32\\x16.flwr.proto.ObjectTree\\\"%\\n\\x14PullAppInputsRequest\\x12\\r\\n\\x05token\\x18\\x01 \\x01(\\t\\\"y\\n\\x15PullAppInputsResponse\\x12$\\n\\x07\\x63ontext\\x18\\x01 \\x01(\\x0b\\x32\\x13.flwr.proto.Context\\x12\\x1c\\n\\x03run\\x18\\x02 \\x01(\\x0b\\x32\\x0f.flwr.proto.Run\\x12\\x1c\\n\\x03\\x66\\x61\\x62\\x18\\x03 \\x01(\\x0b\\x32\\x0f.flwr.proto.Fab\\\"\\\\\\n\\x15PushAppOutputsRequest\\x12\\r\\n\\x05token\\x18\\x01 \\x01(\\t\\x12\\x0e\\n\\x06run_id\\x18\\x02 \\x01(\\x04\\x12$\\n\\x07\\x63ontext\\x18\\x03 \\x01(\\x0b\\x32\\x13.flwr.proto.Context\\\"\\x18\\n\\x16PushAppOutputsResponseb\\x06proto3')\n+DESCRIPTOR = _descriptor_pool.Default().AddSerializedFile(b'\\n\\x16\\x66lwr/proto/appio.proto\\x12\\nflwr.proto\\x1a\\x18\\x66lwr/proto/message.proto\\x1a\\x14\\x66lwr/proto/fab.proto\\x1a\\x14\\x66lwr/proto/run.proto\\\"\\x99\\x01\\n\\x16PushAppMessagesRequest\\x12\\r\\n\\x05token\\x18\\x01 \\x01(\\t\\x12*\\n\\rmessages_list\\x18\\x02 \\x03(\\x0b\\x32\\x13.flwr.proto.Message\\x12\\x0e\\n\\x06run_id\\x18\\x03 \\x01(\\x04\\x12\\x34\\n\\x14message_object_trees\\x18\\x04 \\x03(\\x0b\\x32\\x16.flwr.proto.ObjectTree\\\"G\\n\\x17PushAppMessagesResponse\\x12\\x13\\n\\x0bmessage_ids\\x18\\x01 \\x03(\\t\\x12\\x17\\n\\x0fobjects_to_push\\x18\\x02 \\x03(\\t\\\"L\\n\\x16PullAppMessagesRequest\\x12\\r\\n\\x05token\\x18\\x01 \\x01(\\t\\x12\\x13\\n\\x0bmessage_ids\\x18\\x02 \\x03(\\t\\x12\\x0e\\n\\x06run_id\\x18\\x03 \\x01(\\x04\\\"{\\n\\x17PullAppMessagesResponse\\x12*\\n\\rmessages_list\\x18\\x01 \\x03(\\x0b\\x32\\x13.flwr.proto.Message\\x12\\x34\\n\\x14message_object_trees\\x18\\x02 \\x03(\\x0b\\x32\\x16.flwr.proto.ObjectTree\\\"%\\n\\x14PullAppInputsRequest\\x12\\r\\n\\x05token\\x18\\x01 \\x01(\\t\\\"y\\n\\x15PullAppInputsResponse\\x12$\\n\\x07\\x63ontext\\x18\\x01 \\x01(\\x0b\\x32\\x13.flwr.proto.Context\\x12\\x1c\\n\\x03run\\x18\\x02 \\x01(\\x0b\\x32\\x0f.flwr.proto.Run\\x12\\x1c\\n\\x03\\x66\\x61\\x62\\x18\\x03 \\x01(\\x0b\\x32\\x0f.flwr.proto.Fab\\\"\\\\\\n\\x15PushAppOutputsRequest\\x12\\r\\n\\x05token\\x18\\x01 \\x01(\\t\\x12\\x0e\\n\\x06run_id\\x18\\x02 \\x01(\\x04\\x12$\\n\\x07\\x63ontext\\x18\\x03 \\x01(\\x0b\\x32\\x13.flwr.proto.Context\\\"\\x18\\n\\x16PushAppOutputsResponseb\\x06proto3')\n \n _globals = globals()\n _builder.BuildMessageAndEnumDescriptors(DESCRIPTOR, _globals)\n _builder.BuildTopDescriptorsAndMessages(DESCRIPTOR, 'flwr.proto.appio_pb2', _globals)\n if _descriptor._USE_C_DESCRIPTORS == False:\n   DESCRIPTOR._options = None\n-  _globals['_PUSHAPPMESSAGESRESPONSE_OBJECTSTOPUSHENTRY']._options = None\n-  _globals['_PUSHAPPMESSAGESRESPONSE_OBJECTSTOPUSHENTRY']._serialized_options = b'8\\001'\n   _globals['_PUSHAPPMESSAGESREQUEST']._serialized_start=109\n   _globals['_PUSHAPPMESSAGESREQUEST']._serialized_end=262\n-  _globals['_PUSHAPPMESSAGESRESPONSE']._serialized_start=265\n-  _globals['_PUSHAPPMESSAGESRESPONSE']._serialized_end=469\n-  _globals['_PUSHAPPMESSAGESRESPONSE_OBJECTSTOPUSHENTRY']._serialized_start=394\n-  _globals['_PUSHAPPMESSAGESRESPONSE_OBJECTSTOPUSHENTRY']._serialized_end=469\n-  _globals['_PULLAPPMESSAGESREQUEST']._serialized_start=471\n-  _globals['_PULLAPPMESSAGESREQUEST']._serialized_end=547\n-  _globals['_PULLAPPMESSAGESRESPONSE']._serialized_start=549\n-  _globals['_PULLAPPMESSAGESRESPONSE']._serialized_end=672\n-  _globals['_PULLAPPINPUTSREQUEST']._serialized_start=674\n-  _globals['_PULLAPPINPUTSREQUEST']._serialized_end=711\n-  _globals['_PULLAPPINPUTSRESPONSE']._serialized_start=713\n-  _globals['_PULLAPPINPUTSRESPONSE']._serialized_end=834\n-  _globals['_PUSHAPPOUTPUTSREQUEST']._serialized_start=836\n-  _globals['_PUSHAPPOUTPUTSREQUEST']._serialized_end=928\n-  _globals['_PUSHAPPOUTPUTSRESPONSE']._serialized_start=930\n-  _globals['_PUSHAPPOUTPUTSRESPONSE']._serialized_end=954\n+  _globals['_PUSHAPPMESSAGESRESPONSE']._serialized_start=264\n+  _globals['_PUSHAPPMESSAGESRESPONSE']._serialized_end=335\n+  _globals['_PULLAPPMESSAGESREQUEST']._serialized_start=337\n+  _globals['_PULLAPPMESSAGESREQUEST']._serialized_end=413\n+  _globals['_PULLAPPMESSAGESRESPONSE']._serialized_start=415\n+  _globals['_PULLAPPMESSAGESRESPONSE']._serialized_end=538\n+  _globals['_PULLAPPINPUTSREQUEST']._serialized_start=540\n+  _globals['_PULLAPPINPUTSREQUEST']._serialized_end=577\n+  _globals['_PULLAPPINPUTSRESPONSE']._serialized_start=579\n+  _globals['_PULLAPPINPUTSRESPONSE']._serialized_end=700\n+  _globals['_PUSHAPPOUTPUTSREQUEST']._serialized_start=702\n+  _globals['_PUSHAPPOUTPUTSREQUEST']._serialized_end=794\n+  _globals['_PUSHAPPOUTPUTSRESPONSE']._serialized_start=796\n+  _globals['_PUSHAPPOUTPUTSRESPONSE']._serialized_end=820\n # @@protoc_insertion_point(module_scope)\n"
        },
        {
            "commit": "a02c53a0eed80e7332e03b39bac351260afde289",
            "file_path": "framework/py/flwr/proto/appio_pb2.pyi",
            "diff": "diff --git a/framework/py/flwr/proto/appio_pb2.pyi b/framework/py/flwr/proto/appio_pb2.pyi\nindex 2309fa9a6..a706a09db 100644\n--- a/framework/py/flwr/proto/appio_pb2.pyi\n+++ b/framework/py/flwr/proto/appio_pb2.pyi\n@@ -42,31 +42,16 @@ global___PushAppMessagesRequest = PushAppMessagesRequest\n \n class PushAppMessagesResponse(google.protobuf.message.Message):\n     DESCRIPTOR: google.protobuf.descriptor.Descriptor\n-    class ObjectsToPushEntry(google.protobuf.message.Message):\n-        DESCRIPTOR: google.protobuf.descriptor.Descriptor\n-        KEY_FIELD_NUMBER: builtins.int\n-        VALUE_FIELD_NUMBER: builtins.int\n-        key: typing.Text\n-        @property\n-        def value(self) -> flwr.proto.message_pb2.ObjectIDs: ...\n-        def __init__(self,\n-            *,\n-            key: typing.Text = ...,\n-            value: typing.Optional[flwr.proto.message_pb2.ObjectIDs] = ...,\n-            ) -> None: ...\n-        def HasField(self, field_name: typing_extensions.Literal[\"value\",b\"value\"]) -> builtins.bool: ...\n-        def ClearField(self, field_name: typing_extensions.Literal[\"key\",b\"key\",\"value\",b\"value\"]) -> None: ...\n-\n     MESSAGE_IDS_FIELD_NUMBER: builtins.int\n     OBJECTS_TO_PUSH_FIELD_NUMBER: builtins.int\n     @property\n     def message_ids(self) -> google.protobuf.internal.containers.RepeatedScalarFieldContainer[typing.Text]: ...\n     @property\n-    def objects_to_push(self) -> google.protobuf.internal.containers.MessageMap[typing.Text, flwr.proto.message_pb2.ObjectIDs]: ...\n+    def objects_to_push(self) -> google.protobuf.internal.containers.RepeatedScalarFieldContainer[typing.Text]: ...\n     def __init__(self,\n         *,\n         message_ids: typing.Optional[typing.Iterable[typing.Text]] = ...,\n-        objects_to_push: typing.Optional[typing.Mapping[typing.Text, flwr.proto.message_pb2.ObjectIDs]] = ...,\n+        objects_to_push: typing.Optional[typing.Iterable[typing.Text]] = ...,\n         ) -> None: ...\n     def ClearField(self, field_name: typing_extensions.Literal[\"message_ids\",b\"message_ids\",\"objects_to_push\",b\"objects_to_push\"]) -> None: ...\n global___PushAppMessagesResponse = PushAppMessagesResponse\n"
        },
        {
            "commit": "a02c53a0eed80e7332e03b39bac351260afde289",
            "file_path": "framework/py/flwr/proto/fleet_pb2.py",
            "diff": "diff --git a/framework/py/flwr/proto/fleet_pb2.py b/framework/py/flwr/proto/fleet_pb2.py\nindex 45397594a..5efd4dfcb 100644\n--- a/framework/py/flwr/proto/fleet_pb2.py\n+++ b/framework/py/flwr/proto/fleet_pb2.py\n@@ -19,7 +19,7 @@ from flwr.proto import fab_pb2 as flwr_dot_proto_dot_fab__pb2\n from flwr.proto import message_pb2 as flwr_dot_proto_dot_message__pb2\n \n \n-DESCRIPTOR = _descriptor_pool.Default().AddSerializedFile(b'\\n\\x16\\x66lwr/proto/fleet.proto\\x12\\nflwr.proto\\x1a\\x1a\\x66lwr/proto/heartbeat.proto\\x1a\\x15\\x66lwr/proto/node.proto\\x1a\\x14\\x66lwr/proto/run.proto\\x1a\\x14\\x66lwr/proto/fab.proto\\x1a\\x18\\x66lwr/proto/message.proto\\\"/\\n\\x11\\x43reateNodeRequest\\x12\\x1a\\n\\x12heartbeat_interval\\x18\\x01 \\x01(\\x01\\\"4\\n\\x12\\x43reateNodeResponse\\x12\\x1e\\n\\x04node\\x18\\x01 \\x01(\\x0b\\x32\\x10.flwr.proto.Node\\\"3\\n\\x11\\x44\\x65leteNodeRequest\\x12\\x1e\\n\\x04node\\x18\\x01 \\x01(\\x0b\\x32\\x10.flwr.proto.Node\\\"\\x14\\n\\x12\\x44\\x65leteNodeResponse\\\"J\\n\\x13PullMessagesRequest\\x12\\x1e\\n\\x04node\\x18\\x01 \\x01(\\x0b\\x32\\x10.flwr.proto.Node\\x12\\x13\\n\\x0bmessage_ids\\x18\\x02 \\x03(\\t\\\"\\xa2\\x01\\n\\x14PullMessagesResponse\\x12(\\n\\treconnect\\x18\\x01 \\x01(\\x0b\\x32\\x15.flwr.proto.Reconnect\\x12*\\n\\rmessages_list\\x18\\x02 \\x03(\\x0b\\x32\\x13.flwr.proto.Message\\x12\\x34\\n\\x14message_object_trees\\x18\\x03 \\x03(\\x0b\\x32\\x16.flwr.proto.ObjectTree\\\"\\x97\\x01\\n\\x13PushMessagesRequest\\x12\\x1e\\n\\x04node\\x18\\x01 \\x01(\\x0b\\x32\\x10.flwr.proto.Node\\x12*\\n\\rmessages_list\\x18\\x02 \\x03(\\x0b\\x32\\x13.flwr.proto.Message\\x12\\x34\\n\\x14message_object_trees\\x18\\x03 \\x03(\\x0b\\x32\\x16.flwr.proto.ObjectTree\\\"\\xcb\\x02\\n\\x14PushMessagesResponse\\x12(\\n\\treconnect\\x18\\x01 \\x01(\\x0b\\x32\\x15.flwr.proto.Reconnect\\x12>\\n\\x07results\\x18\\x02 \\x03(\\x0b\\x32-.flwr.proto.PushMessagesResponse.ResultsEntry\\x12L\\n\\x0fobjects_to_push\\x18\\x03 \\x03(\\x0b\\x32\\x33.flwr.proto.PushMessagesResponse.ObjectsToPushEntry\\x1a.\\n\\x0cResultsEntry\\x12\\x0b\\n\\x03key\\x18\\x01 \\x01(\\t\\x12\\r\\n\\x05value\\x18\\x02 \\x01(\\r:\\x02\\x38\\x01\\x1aK\\n\\x12ObjectsToPushEntry\\x12\\x0b\\n\\x03key\\x18\\x01 \\x01(\\t\\x12$\\n\\x05value\\x18\\x02 \\x01(\\x0b\\x32\\x15.flwr.proto.ObjectIDs:\\x02\\x38\\x01\\\"\\x1e\\n\\tReconnect\\x12\\x11\\n\\treconnect\\x18\\x01 \\x01(\\x04\\x32\\xca\\x06\\n\\x05\\x46leet\\x12M\\n\\nCreateNode\\x12\\x1d.flwr.proto.CreateNodeRequest\\x1a\\x1e.flwr.proto.CreateNodeResponse\\\"\\x00\\x12M\\n\\nDeleteNode\\x12\\x1d.flwr.proto.DeleteNodeRequest\\x1a\\x1e.flwr.proto.DeleteNodeResponse\\\"\\x00\\x12\\x62\\n\\x11SendNodeHeartbeat\\x12$.flwr.proto.SendNodeHeartbeatRequest\\x1a%.flwr.proto.SendNodeHeartbeatResponse\\\"\\x00\\x12S\\n\\x0cPullMessages\\x12\\x1f.flwr.proto.PullMessagesRequest\\x1a .flwr.proto.PullMessagesResponse\\\"\\x00\\x12S\\n\\x0cPushMessages\\x12\\x1f.flwr.proto.PushMessagesRequest\\x1a .flwr.proto.PushMessagesResponse\\\"\\x00\\x12\\x41\\n\\x06GetRun\\x12\\x19.flwr.proto.GetRunRequest\\x1a\\x1a.flwr.proto.GetRunResponse\\\"\\x00\\x12\\x41\\n\\x06GetFab\\x12\\x19.flwr.proto.GetFabRequest\\x1a\\x1a.flwr.proto.GetFabResponse\\\"\\x00\\x12M\\n\\nPushObject\\x12\\x1d.flwr.proto.PushObjectRequest\\x1a\\x1e.flwr.proto.PushObjectResponse\\\"\\x00\\x12M\\n\\nPullObject\\x12\\x1d.flwr.proto.PullObjectRequest\\x1a\\x1e.flwr.proto.PullObjectResponse\\\"\\x00\\x12q\\n\\x16\\x43onfirmMessageReceived\\x12).flwr.proto.ConfirmMessageReceivedRequest\\x1a*.flwr.proto.ConfirmMessageReceivedResponse\\\"\\x00\\x62\\x06proto3')\n+DESCRIPTOR = _descriptor_pool.Default().AddSerializedFile(b'\\n\\x16\\x66lwr/proto/fleet.proto\\x12\\nflwr.proto\\x1a\\x1a\\x66lwr/proto/heartbeat.proto\\x1a\\x15\\x66lwr/proto/node.proto\\x1a\\x14\\x66lwr/proto/run.proto\\x1a\\x14\\x66lwr/proto/fab.proto\\x1a\\x18\\x66lwr/proto/message.proto\\\"/\\n\\x11\\x43reateNodeRequest\\x12\\x1a\\n\\x12heartbeat_interval\\x18\\x01 \\x01(\\x01\\\"4\\n\\x12\\x43reateNodeResponse\\x12\\x1e\\n\\x04node\\x18\\x01 \\x01(\\x0b\\x32\\x10.flwr.proto.Node\\\"3\\n\\x11\\x44\\x65leteNodeRequest\\x12\\x1e\\n\\x04node\\x18\\x01 \\x01(\\x0b\\x32\\x10.flwr.proto.Node\\\"\\x14\\n\\x12\\x44\\x65leteNodeResponse\\\"J\\n\\x13PullMessagesRequest\\x12\\x1e\\n\\x04node\\x18\\x01 \\x01(\\x0b\\x32\\x10.flwr.proto.Node\\x12\\x13\\n\\x0bmessage_ids\\x18\\x02 \\x03(\\t\\\"\\xa2\\x01\\n\\x14PullMessagesResponse\\x12(\\n\\treconnect\\x18\\x01 \\x01(\\x0b\\x32\\x15.flwr.proto.Reconnect\\x12*\\n\\rmessages_list\\x18\\x02 \\x03(\\x0b\\x32\\x13.flwr.proto.Message\\x12\\x34\\n\\x14message_object_trees\\x18\\x03 \\x03(\\x0b\\x32\\x16.flwr.proto.ObjectTree\\\"\\x97\\x01\\n\\x13PushMessagesRequest\\x12\\x1e\\n\\x04node\\x18\\x01 \\x01(\\x0b\\x32\\x10.flwr.proto.Node\\x12*\\n\\rmessages_list\\x18\\x02 \\x03(\\x0b\\x32\\x13.flwr.proto.Message\\x12\\x34\\n\\x14message_object_trees\\x18\\x03 \\x03(\\x0b\\x32\\x16.flwr.proto.ObjectTree\\\"\\xc9\\x01\\n\\x14PushMessagesResponse\\x12(\\n\\treconnect\\x18\\x01 \\x01(\\x0b\\x32\\x15.flwr.proto.Reconnect\\x12>\\n\\x07results\\x18\\x02 \\x03(\\x0b\\x32-.flwr.proto.PushMessagesResponse.ResultsEntry\\x12\\x17\\n\\x0fobjects_to_push\\x18\\x03 \\x03(\\t\\x1a.\\n\\x0cResultsEntry\\x12\\x0b\\n\\x03key\\x18\\x01 \\x01(\\t\\x12\\r\\n\\x05value\\x18\\x02 \\x01(\\r:\\x02\\x38\\x01\\\"\\x1e\\n\\tReconnect\\x12\\x11\\n\\treconnect\\x18\\x01 \\x01(\\x04\\x32\\xca\\x06\\n\\x05\\x46leet\\x12M\\n\\nCreateNode\\x12\\x1d.flwr.proto.CreateNodeRequest\\x1a\\x1e.flwr.proto.CreateNodeResponse\\\"\\x00\\x12M\\n\\nDeleteNode\\x12\\x1d.flwr.proto.DeleteNodeRequest\\x1a\\x1e.flwr.proto.DeleteNodeResponse\\\"\\x00\\x12\\x62\\n\\x11SendNodeHeartbeat\\x12$.flwr.proto.SendNodeHeartbeatRequest\\x1a%.flwr.proto.SendNodeHeartbeatResponse\\\"\\x00\\x12S\\n\\x0cPullMessages\\x12\\x1f.flwr.proto.PullMessagesRequest\\x1a .flwr.proto.PullMessagesResponse\\\"\\x00\\x12S\\n\\x0cPushMessages\\x12\\x1f.flwr.proto.PushMessagesRequest\\x1a .flwr.proto.PushMessagesResponse\\\"\\x00\\x12\\x41\\n\\x06GetRun\\x12\\x19.flwr.proto.GetRunRequest\\x1a\\x1a.flwr.proto.GetRunResponse\\\"\\x00\\x12\\x41\\n\\x06GetFab\\x12\\x19.flwr.proto.GetFabRequest\\x1a\\x1a.flwr.proto.GetFabResponse\\\"\\x00\\x12M\\n\\nPushObject\\x12\\x1d.flwr.proto.PushObjectRequest\\x1a\\x1e.flwr.proto.PushObjectResponse\\\"\\x00\\x12M\\n\\nPullObject\\x12\\x1d.flwr.proto.PullObjectRequest\\x1a\\x1e.flwr.proto.PullObjectResponse\\\"\\x00\\x12q\\n\\x16\\x43onfirmMessageReceived\\x12).flwr.proto.ConfirmMessageReceivedRequest\\x1a*.flwr.proto.ConfirmMessageReceivedResponse\\\"\\x00\\x62\\x06proto3')\n \n _globals = globals()\n _builder.BuildMessageAndEnumDescriptors(DESCRIPTOR, _globals)\n@@ -28,8 +28,6 @@ if _descriptor._USE_C_DESCRIPTORS == False:\n   DESCRIPTOR._options = None\n   _globals['_PUSHMESSAGESRESPONSE_RESULTSENTRY']._options = None\n   _globals['_PUSHMESSAGESRESPONSE_RESULTSENTRY']._serialized_options = b'8\\001'\n-  _globals['_PUSHMESSAGESRESPONSE_OBJECTSTOPUSHENTRY']._options = None\n-  _globals['_PUSHMESSAGESRESPONSE_OBJECTSTOPUSHENTRY']._serialized_options = b'8\\001'\n   _globals['_CREATENODEREQUEST']._serialized_start=159\n   _globals['_CREATENODEREQUEST']._serialized_end=206\n   _globals['_CREATENODERESPONSE']._serialized_start=208\n@@ -45,13 +43,11 @@ if _descriptor._USE_C_DESCRIPTORS == False:\n   _globals['_PUSHMESSAGESREQUEST']._serialized_start=579\n   _globals['_PUSHMESSAGESREQUEST']._serialized_end=730\n   _globals['_PUSHMESSAGESRESPONSE']._serialized_start=733\n-  _globals['_PUSHMESSAGESRESPONSE']._serialized_end=1064\n-  _globals['_PUSHMESSAGESRESPONSE_RESULTSENTRY']._serialized_start=941\n-  _globals['_PUSHMESSAGESRESPONSE_RESULTSENTRY']._serialized_end=987\n-  _globals['_PUSHMESSAGESRESPONSE_OBJECTSTOPUSHENTRY']._serialized_start=989\n-  _globals['_PUSHMESSAGESRESPONSE_OBJECTSTOPUSHENTRY']._serialized_end=1064\n-  _globals['_RECONNECT']._serialized_start=1066\n-  _globals['_RECONNECT']._serialized_end=1096\n-  _globals['_FLEET']._serialized_start=1099\n-  _globals['_FLEET']._serialized_end=1941\n+  _globals['_PUSHMESSAGESRESPONSE']._serialized_end=934\n+  _globals['_PUSHMESSAGESRESPONSE_RESULTSENTRY']._serialized_start=888\n+  _globals['_PUSHMESSAGESRESPONSE_RESULTSENTRY']._serialized_end=934\n+  _globals['_RECONNECT']._serialized_start=936\n+  _globals['_RECONNECT']._serialized_end=966\n+  _globals['_FLEET']._serialized_start=969\n+  _globals['_FLEET']._serialized_end=1811\n # @@protoc_insertion_point(module_scope)\n"
        },
        {
            "commit": "a02c53a0eed80e7332e03b39bac351260afde289",
            "file_path": "framework/py/flwr/proto/fleet_pb2.pyi",
            "diff": "diff --git a/framework/py/flwr/proto/fleet_pb2.pyi b/framework/py/flwr/proto/fleet_pb2.pyi\nindex 6e3fdf434..a920c18de 100644\n--- a/framework/py/flwr/proto/fleet_pb2.pyi\n+++ b/framework/py/flwr/proto/fleet_pb2.pyi\n@@ -134,21 +134,6 @@ class PushMessagesResponse(google.protobuf.message.Message):\n             ) -> None: ...\n         def ClearField(self, field_name: typing_extensions.Literal[\"key\",b\"key\",\"value\",b\"value\"]) -> None: ...\n \n-    class ObjectsToPushEntry(google.protobuf.message.Message):\n-        DESCRIPTOR: google.protobuf.descriptor.Descriptor\n-        KEY_FIELD_NUMBER: builtins.int\n-        VALUE_FIELD_NUMBER: builtins.int\n-        key: typing.Text\n-        @property\n-        def value(self) -> flwr.proto.message_pb2.ObjectIDs: ...\n-        def __init__(self,\n-            *,\n-            key: typing.Text = ...,\n-            value: typing.Optional[flwr.proto.message_pb2.ObjectIDs] = ...,\n-            ) -> None: ...\n-        def HasField(self, field_name: typing_extensions.Literal[\"value\",b\"value\"]) -> builtins.bool: ...\n-        def ClearField(self, field_name: typing_extensions.Literal[\"key\",b\"key\",\"value\",b\"value\"]) -> None: ...\n-\n     RECONNECT_FIELD_NUMBER: builtins.int\n     RESULTS_FIELD_NUMBER: builtins.int\n     OBJECTS_TO_PUSH_FIELD_NUMBER: builtins.int\n@@ -157,12 +142,12 @@ class PushMessagesResponse(google.protobuf.message.Message):\n     @property\n     def results(self) -> google.protobuf.internal.containers.ScalarMap[typing.Text, builtins.int]: ...\n     @property\n-    def objects_to_push(self) -> google.protobuf.internal.containers.MessageMap[typing.Text, flwr.proto.message_pb2.ObjectIDs]: ...\n+    def objects_to_push(self) -> google.protobuf.internal.containers.RepeatedScalarFieldContainer[typing.Text]: ...\n     def __init__(self,\n         *,\n         reconnect: typing.Optional[global___Reconnect] = ...,\n         results: typing.Optional[typing.Mapping[typing.Text, builtins.int]] = ...,\n-        objects_to_push: typing.Optional[typing.Mapping[typing.Text, flwr.proto.message_pb2.ObjectIDs]] = ...,\n+        objects_to_push: typing.Optional[typing.Iterable[typing.Text]] = ...,\n         ) -> None: ...\n     def HasField(self, field_name: typing_extensions.Literal[\"reconnect\",b\"reconnect\"]) -> builtins.bool: ...\n     def ClearField(self, field_name: typing_extensions.Literal[\"objects_to_push\",b\"objects_to_push\",\"reconnect\",b\"reconnect\",\"results\",b\"results\"]) -> None: ...\n"
        },
        {
            "commit": "a02c53a0eed80e7332e03b39bac351260afde289",
            "file_path": "framework/py/flwr/server/grid/grpc_grid.py",
            "diff": "diff --git a/framework/py/flwr/server/grid/grpc_grid.py b/framework/py/flwr/server/grid/grpc_grid.py\nindex bb8cab1fb..b25debdf9 100644\n--- a/framework/py/flwr/server/grid/grpc_grid.py\n+++ b/framework/py/flwr/server/grid/grpc_grid.py\n@@ -29,6 +29,7 @@ from flwr.common.constant import (\n )\n from flwr.common.grpc import create_channel, on_channel_state_change\n from flwr.common.inflatable import (\n+    InflatableObject,\n     get_all_nested_objects,\n     get_object_tree,\n     iterate_object_tree,\n@@ -223,10 +224,10 @@ class GrpcGrid(Grid):\n         # Prepare all Messages to be sent in a single request\n         proto_messages = []\n         object_trees = []\n-        all_objects = {}\n+        msg_id_to_all_objects: dict[str, dict[str, InflatableObject]] = {}\n         for msg in messages:\n             proto_messages.append(message_to_proto(remove_content_from_message(msg)))\n-            all_objects[msg.object_id] = get_all_nested_objects(msg)\n+            msg_id_to_all_objects[msg.object_id] = get_all_nested_objects(msg)\n             object_trees.append(get_object_tree(msg))\n             del msg\n \n@@ -241,11 +242,13 @@ class GrpcGrid(Grid):\n \n         # Push objects\n         # If Message was added to the LinkState correctly\n+        all_obj_ids_to_push = set(res.objects_to_push)\n         for msg_id in res.message_ids:\n-            obj_ids_to_push = set(res.objects_to_push[msg_id].object_ids)\n             # Push only object that are not in the store\n+            all_objects = msg_id_to_all_objects[msg_id]\n+            obj_ids_to_push = set(all_objects.keys()) & all_obj_ids_to_push\n             push_objects(\n-                all_objects[msg_id],\n+                all_objects,\n                 push_object_fn=make_push_object_fn_protobuf(\n                     push_object_protobuf=self._stub.PushObject,\n                     node=self.node,\n@@ -253,6 +256,8 @@ class GrpcGrid(Grid):\n                 ),\n                 object_ids_to_push=obj_ids_to_push,\n             )\n+            # Remove pushed objects from the set\n+            all_obj_ids_to_push -= obj_ids_to_push\n         return cast(list[str], res.message_ids)\n \n     def push_messages(self, messages: Iterable[Message]) -> Iterable[str]:\n"
        },
        {
            "commit": "a02c53a0eed80e7332e03b39bac351260afde289",
            "file_path": "framework/py/flwr/server/superlink/fleet/grpc_rere/fleet_servicer_test.py",
            "diff": "diff --git a/framework/py/flwr/server/superlink/fleet/grpc_rere/fleet_servicer_test.py b/framework/py/flwr/server/superlink/fleet/grpc_rere/fleet_servicer_test.py\nindex 3de2954be..44c8ed9e8 100644\n--- a/framework/py/flwr/server/superlink/fleet/grpc_rere/fleet_servicer_test.py\n+++ b/framework/py/flwr/server/superlink/fleet/grpc_rere/fleet_servicer_test.py\n@@ -179,13 +179,8 @@ class TestFleetServicer(unittest.TestCase):  # pylint: disable=R0902\n             for obj_id in obj_ids.object_ids\n         }  # descendants\n         # Construct a single set with all object ids\n-        requested_object_ids = {\n-            obj_id\n-            for obj_ids in response.objects_to_push.values()\n-            for obj_id in obj_ids.object_ids\n-        }\n+        requested_object_ids = set(response.objects_to_push)\n         assert expected_object_ids == requested_object_ids\n-        assert response.objects_to_push.keys() == descendant_mapping.keys()\n \n     def _assert_push_messages_not_allowed(self, node_id: int, run_id: int) -> None:\n         \"\"\"Assert `PushMessages` not allowed.\"\"\"\n"
        },
        {
            "commit": "a02c53a0eed80e7332e03b39bac351260afde289",
            "file_path": "framework/py/flwr/server/superlink/serverappio/serverappio_servicer_test.py",
            "diff": "diff --git a/framework/py/flwr/server/superlink/serverappio/serverappio_servicer_test.py b/framework/py/flwr/server/superlink/serverappio/serverappio_servicer_test.py\nindex a4cfa1d8e..b71112311 100644\n--- a/framework/py/flwr/server/superlink/serverappio/serverappio_servicer_test.py\n+++ b/framework/py/flwr/server/superlink/serverappio/serverappio_servicer_test.py\n@@ -295,13 +295,8 @@ class TestServerAppIoServicer(unittest.TestCase):  # pylint: disable=R0902, R090\n             for obj_id in obj_ids.object_ids\n         }  # descendants\n         # Construct a single set with all object ids\n-        requested_object_ids = {\n-            obj_id\n-            for obj_ids in response.objects_to_push.values()\n-            for obj_id in obj_ids.object_ids\n-        }\n+        requested_object_ids = set(response.objects_to_push)\n         assert expected_object_ids == requested_object_ids\n-        assert response.objects_to_push.keys() == descendant_mapping.keys()\n \n     def _assert_push_ins_messages_not_allowed(\n         self, message: ProtoMessage, run_id: int\n"
        },
        {
            "commit": "a02c53a0eed80e7332e03b39bac351260afde289",
            "file_path": "framework/py/flwr/supercore/object_store/utils.py",
            "diff": "diff --git a/framework/py/flwr/supercore/object_store/utils.py b/framework/py/flwr/supercore/object_store/utils.py\nindex 18362f734..747f42715 100644\n--- a/framework/py/flwr/supercore/object_store/utils.py\n+++ b/framework/py/flwr/supercore/object_store/utils.py\n@@ -19,39 +19,25 @@ from typing import Union\n \n from flwr.proto.appio_pb2 import PushAppMessagesRequest  # pylint: disable=E0611\n from flwr.proto.fleet_pb2 import PushMessagesRequest  # pylint: disable=E0611\n-from flwr.proto.message_pb2 import ObjectIDs  # pylint: disable=E0611\n \n from . import ObjectStore\n \n \n def store_mapping_and_register_objects(\n     store: ObjectStore, request: Union[PushAppMessagesRequest, PushMessagesRequest]\n-) -> dict[str, ObjectIDs]:\n+) -> set[str]:\n     \"\"\"Store Message object to descendants mapping and preregister objects.\"\"\"\n     if not request.messages_list:\n-        return {}\n-\n-    objects_to_push: dict[str, ObjectIDs] = {}\n-\n+        return set()\n+    objects_to_push: set[str] = set()\n     # Get run_id from the first message in the list\n     # All messages of a request should in the same run\n     run_id = request.messages_list[0].metadata.run_id\n \n-    # Keep track of unique object IDs registered so far\n-    # This is to avoid requesting to push the same object multiple times.\n-    unique_object_ids_so_far: set[str] = set()\n     for object_tree in request.message_object_trees:\n         # Preregister\n-        object_ids_just_registered = set(store.preregister(run_id, object_tree))\n-\n-        # Record objects that need to be pushed (this is\n-        # equivalent to the set difference between the newly registered\n-        # object IDs and the unique object IDs seen so far)\n-        objects_to_push[object_tree.object_id] = ObjectIDs(\n-            object_ids=object_ids_just_registered - unique_object_ids_so_far\n-        )\n-\n-        # Add to the set of unique object IDs if not already present\n-        unique_object_ids_so_far.update(object_ids_just_registered)\n+        unavailable_obj_ids = store.preregister(run_id, object_tree)\n+        # Keep track of objects that need to be pushed\n+        objects_to_push |= set(unavailable_obj_ids)\n \n     return objects_to_push\n"
        },
        {
            "commit": "a02c53a0eed80e7332e03b39bac351260afde289",
            "file_path": "framework/py/flwr/supernode/runtime/run_clientapp.py",
            "diff": "diff --git a/framework/py/flwr/supernode/runtime/run_clientapp.py b/framework/py/flwr/supernode/runtime/run_clientapp.py\nindex 7a731e4c5..10a8254ed 100644\n--- a/framework/py/flwr/supernode/runtime/run_clientapp.py\n+++ b/framework/py/flwr/supernode/runtime/run_clientapp.py\n@@ -278,9 +278,7 @@ def push_clientappoutputs(\n             del proto_message\n \n             # Retrieve the object IDs to push\n-            object_ids_to_push = set(\n-                push_msg_res.objects_to_push[object_tree.object_id].object_ids\n-            )\n+            object_ids_to_push = set(push_msg_res.objects_to_push)\n \n             # Push all objects\n             all_objects = get_all_nested_objects(message)\n"
        },
        {
            "commit": "a02c53a0eed80e7332e03b39bac351260afde289",
            "file_path": "framework/py/flwr/supernode/servicer/clientappio/clientappio_servicer_test.py",
            "diff": "diff --git a/framework/py/flwr/supernode/servicer/clientappio/clientappio_servicer_test.py b/framework/py/flwr/supernode/servicer/clientappio/clientappio_servicer_test.py\nindex 42bd6d575..e5d649d36 100644\n--- a/framework/py/flwr/supernode/servicer/clientappio/clientappio_servicer_test.py\n+++ b/framework/py/flwr/supernode/servicer/clientappio/clientappio_servicer_test.py\n@@ -129,7 +129,7 @@ class TestClientAppIoServicer(unittest.TestCase):\n         all_obj_ids = [tree.object_id for tree in iterate_object_tree(object_tree)]\n         self.mock_stub.PushMessage.return_value = PushAppMessagesResponse(\n             message_ids=[message.object_id],\n-            objects_to_push={message.object_id: ObjectIDs(object_ids=all_obj_ids)},\n+            objects_to_push=all_obj_ids,\n         )\n \n         # Prepare: Mock PushObject RPC calls\n"
        }
    ]
}